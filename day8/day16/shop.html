<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h5>click the button beow to shop!.</h5>
    <button id="addToCart" onclick="addToCart()">shop</button>
    <script>

    
        const products = [
            { name: "Shoe", price: 50, stock: 10 },
            { name: "Bag", price: 30, stock: 15 },
            { name: "Watch", price: 120, stock: 5 },
            { name: "Phone", price: 500, stock: 3 },
            { name: "Shirt", price: 20, stock: 25 },
        ];

        let cart = [];

        function showProducts() {
            let list = " Available Products:";
            products.forEach((p, i) => {
                list += `${i + 1}, ${p.name} - ${p.price} - InStock, ${p.stock}`;
            });
            return list;
        }
        
        function showCart() {
            if (cart.length === 0) {
                return "Your cart is empty.";
            }
            let list = "";
            let total = 0;
            cart.forEach((item, i) => {
                let subtotal = item.price * item.qty;
                list += `${i + 1} ,${item.name} - ${item.price}  ${item.qty} = ${subtotal}`;
                total += subtotal;
            });
            list += Total = { total };
            return list;
        }
        function addToCart() {
            let itemName = prompt("Enter product name to add:\n\n" + showProducts());
            if (!itemName) return;

            const product = products.find(p => p.name.toLowerCase() === itemName.toLowerCase());
            if (!product) {
                alert(" Product not found.");
                return;
            }

            let qtyStr = prompt`Enter quantity for ${product.name}, Available ${product.stock}`;
            let qty = parseInt(qtyStr);

            if (isNaN(qty) || qty <= 0) {
                alert(" Invalid quantity.");
                return;
            }

            if (qty > product.stock) {
                alert(" Only ${product.stock} available in stock.");
                return;
            }

            let cartItem = cart.find(item => item.name === product.name);
            if (cartItem) {
                cartItem.qty += qty;
            } else { cartItem.push(""); }
        }
    
    </script>
</body>

</html>